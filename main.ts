namespace SpriteKind {
    export const Block = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 9))
    effects.confetti.endScreenEffect()
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        mySprite.vy = -200
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . . . e 2 2 2 2 2 . . . . 
        . . . . . e 2 2 d 2 2 2 2 . . . 
        . . . . . e 2 2 2 2 2 2 2 e . . 
        . . . . . e 2 2 2 2 2 2 2 e . . 
        . . . c c f f e 2 2 2 2 2 e . . 
        . . . c b f f f f e 2 2 e e . . 
        . . . c d f f f b 2 e f e e e . 
        . . . c b 1 1 1 1 2 f d 2 2 e e 
        . . . . . c c c e e f d 2 2 e e 
        . . . . . . c e e 2 2 e d 1 1 b 
        . . . . . . . e 2 2 2 2 e f f . 
        . . . . d d f f 2 2 d d f f . . 
        . . . . d d f f e e d d f f . . 
        . . . . . . . . . f f f f . . . 
        . . . . . . . . f f f e e e . . 
        . . . . . . . f f f e e e e . . 
        `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.setImage(img`
        . . . . 2 2 2 2 2 e . . . . . . 
        . . . 2 2 2 2 d 2 2 e . . . . . 
        . . e 2 2 2 2 2 2 2 e . . . . . 
        . . e 2 2 2 2 2 2 2 e . . . . . 
        . . e 2 2 2 2 2 e f f c c . . . 
        . . e e 2 2 e f f f f b c . . . 
        . e e e f e 2 b f f f d c . . . 
        e e 2 2 d f 2 1 1 1 1 b c . . . 
        e e 2 2 d f e e c c c . . . . . 
        b 1 1 d e 2 2 e e c . . . . . . 
        . f f e 2 2 2 2 e . . . . . . . 
        . . f f d d 2 2 f f d d . . . . 
        . . f f d d e e f f d d . . . . 
        . . . f f f f . . . . . . . . . 
        . . e e e f f f . . . . . . . . 
        . . e e e e f f f . . . . . . . 
        `)
})
let mySprite: Sprite = null
info.setLife(3)
tiles.setTilemap(tiles.createTilemap(hex`6c001000030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030306030303030303030303060606060603030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303060606060303030303030306060606050603030303030303030303030303030a030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030306060303030303060606060606030303030306060506050506030303030303030803030707070707070707030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030606060303030303060606060606030303030306060605060303030303030303030803030707070707070307070703030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030306060606060303030303030306060606030303030303030305030303030303080303030803030707070707070303030707030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303060603030306060606030303030303030303050303030303030303030305030303030303080303030803030707070707070303030307030303030303030303030303030303030303030303030303030303030303030303030303030303030303030308080808090303030306060603030303030503030303030303030303050303030303030303030305030303030303080303030803030707070707070303030303030303030303030803030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303050303030303030503030303030303030303050303030303030303030305030303030303080303030803030707070707070303030303030308030303030303030303030303030308030307070707070303030303030303030303030303030307030303030303030101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010707070707070303030303030303030303030303030303030803030303030303030303030303030303070303030703030307030303030303030303030204020202020202020202020404040202020202020202020202020202020204040202020202020202040402020202020707070707070303030303080303030303030303030803030303030303030303030303030303030303030303030303030303030303030303030303030404020202020402020202020404040402020202020202040404020202020204040202020202020404040404020202020707070707070303030303030303030303030303030303030303030303030303030303030303070303030303030303030303030303030303030303030202020204040404020202020202020404020202020204040404040202020202020202020202020404040402020202020707070707070303030308030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030202020204020404020202020202020202020202020204040404020202020202020202020202040402020202020202020707070707070303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030202020202020202020202020202020202020202020202020202020202020202020202020202040404020202020202020707070707070b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b`, img`
    ............................................................................................................
    ............................................................................................................
    .......................2.........22222......................................................................
    .....................2222.......2...........................................................................
    .............22.....2....2.....2.............2..22222222....................................................
    ............22..................................222222.222..................................................
    ..........222............................2......22.......22.................................................
    .....22...................................................2............................................2...2
    ....2.............................................................2.........................................
    .............................................................2..............2..22222................2.......
    2222222222222222222222222222222222222222222222222.......................2................2...2...2..........
    2222222222222222222222222222222222222222222222222..........2.........2......................................
    2222222222222222222222222222222222222222222222222.....................................2.....................
    2222222222222222222222222222222222222222222222222.........2.................................................
    2222222222222222222222222222222222222222222222222...........................................................
    2222222222222222222222222222222222222222222222222.....222222222222222222222222222222222222222222222222222222
    `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile4,myTiles.tile9,myTiles.tile10,sprites.dungeon.hazardLava0], TileScale.Sixteen))
let Moving_block = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
mySprite = sprites.create(img`
    . . . . 2 2 2 2 2 e . . . . . . 
    . . . 2 2 2 2 d 2 2 e . . . . . 
    . . e 2 2 2 2 2 2 2 e . . . . . 
    . . e 2 2 2 2 2 2 2 e . . . . . 
    . . e 2 2 2 2 2 e f f c c . . . 
    . . e e 2 2 e f f f f b c . . . 
    . e e e f e 2 b f f f d c . . . 
    e e 2 2 d f 2 1 1 1 1 b c . . . 
    e e 2 2 d f e e c c c . . . . . 
    b 1 1 d e 2 2 e e c . . . . . . 
    . f f e 2 2 2 2 e . . . . . . . 
    . . f f d d 2 2 f f d d . . . . 
    . . f f d d e e f f d d . . . . 
    . . . f f f f . . . . . . . . . 
    . . e e e f f f . . . . . . . . 
    . . e e e e f f f . . . . . . . 
    `, SpriteKind.Player)
scene.cameraFollowSprite(mySprite)
controller.moveSprite(mySprite, 160, 0)
mySprite.ay = 500
tiles.placeOnTile(mySprite, tiles.getTileLocation(1, 9))
forever(function () {
    if (mySprite.tileKindAt(TileDirection.Bottom, myTiles.tile9)) {
        effects.confetti.startScreenEffect()
        mySprite.say("YOU WIN! PRESS ‘B’ TO RESTART", 2000)
    }
})
forever(function () {
    if (mySprite.tileKindAt(TileDirection.Bottom, sprites.dungeon.hazardLava0)) {
        tiles.placeOnRandomTile(mySprite, myTiles.tile10)
        info.changeLifeBy(-1)
    }
})
